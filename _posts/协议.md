---
layout:     post
title:      arp协议
subtitle:   网络协议
date:       2021-01-01
author:     tahano
header-img: img/back2.jpg
catalog: true
tags:
    - 计算机网络
---

# ARP

ARP（Address Resolution Protocol，地址解析协议）是用来将IP地址解析为MAC地址的协议。主机或三层网络设备上会维护一张ARP表，用于存储IP地址和MAC地址的映射关系，一般ARP表项包括动态ARP表项和静态ARP表项。

在局域网中，当主机或其它三层网络设备有数据要发送给另一台主机或三层网络设备时，需要知道对方的网络层地址（即IP地址）。但是仅有IP地址是不够的，因为IP报文必须封装成帧才能通过物理网络发送，因此发送方还需要知道接收方的物理地址（即MAC地址），这就需要一个通过IP地址获取物理地址的协议，以完成从IP地址到MAC地址的映射。地址解析协议ARP即可实现将IP地址解析为MAC地址。

## ARP的类型

### 动态ARP

动态ARP表项由ARP协议通过ARP报文自动生成和维护，可以被老化，可以被新的ARP报文更新，也可以被静态ARP表项覆盖。

动态ARP适用于拓扑结构复杂、通信实时性要求高的网络。

### 静态ARP

静态ARP表项是由网络管理员手工建立的IP地址和MAC地址之间固定的映射关系。静态ARP表项不会被老化，不会被动态ARP表项覆盖。

正常情况下网络中设备可以通过ARP协议进行ARP表项的动态学习，生成的动态ARP表项可以被老化，可以被更新。但是当网络中存在ARP攻击时，设备中动态ARP表项可能会被更新成错误的ARP表项，或者被老化，造成合法用户通信异常。

静态ARP表项不会被老化，也不会被动态ARP表项覆盖，可以保证网络通信的安全性。静态ARP表项可以限制本端设备和指定IP地址的对端设备通信时只使用指定的MAC地址，此时攻击报文无法修改本端设备的ARP表中IP地址和MAC地址的映射关系，从而保护了本端设备和对端设备间的正常通信。一般在网关设备上配置静态ARP表项。

静态ARP表项分为短静态ARP表项和长静态ARP表项。

- 短静态ARP表项：手工建立IP地址和MAC地址之间固定的映射关系，未同时指定

  VLAN

  和出接口。

  如果出接口是处于二层模式的以太网接口，短静态ARP表项不能直接用于报文转发。当需要发送报文时，设备会先发送ARP请求报文，如果收到的ARP应答报文中的源IP地址和源MAC地址与所配置的IP地址和MAC地址相同，则将收到ARP应答报文的VLAN和接口加入该静态ARP表项中，后续设备可直接用该静态ARP表项转发报文。

- 长静态ARP表项：手工建立IP地址和MAC地址之间固定的映射关系，并同时指定该ARP表项所在VLAN和出接口。

  长静态ARP表项可以直接用于报文转发。建议用户采用长静态ARP表项。

### 免费ARP

设备主动使用自己的IP地址作为目的IP地址发送ARP请求，此种方式称免费ARP。

免费ARP有如下作用：

- IP地址冲突检测：当设备接口的协议状态变为Up时，设备主动对外发送免费ARP报文。正常情况下不会收到ARP应答，如果收到，则表明本网络中存在与自身IP地址重复的地址。如果检测到IP地址冲突，设备会周期性的广播发送免费ARP应答报文，直到冲突解除。
- 用于通告一个新的MAC地址：发送方更换了网卡，MAC地址变化了，为了能够在动态ARP表项老化前通告网络中其他设备，发送方可以发送一个免费ARP。
- 在VRRP备份组中用来通告主备发生变换：发生主备变换后，MASTER设备会广播发送一个免费ARP报文来通告发生了主备变换。

### Proxy ARP

如果ARP请求是从一个网络的主机发往同一网段但不在同一物理网络上的另一台主机，那么连接这两个网络的设备就可以回答该ARP请求，这个过程称作ARP代理(Proxy ARP)。

Proxy ARP有以下特点：

- Proxy ARP部署在网关上，网络中的主机不必做任何改动。
- Proxy ARP可以隐藏物理网络细节，使两个物理网络可以使用同一个网络号。
- Proxy ARP只影响主机的ARP表，对网关的ARP表和路由表没有影响。

Proxy ARP分为路由式Proxy ARP、VLAN内Proxy ARP和VLAN间Proxy ARP。

### 路由式Proxy ARP

路由式Proxy ARP就是使那些在同一网段却不在同一物理网络上的网络设备能够相互通信的一种功能。

在实际应用中，如果连接设备的主机上没有配置缺省网关地址（即不知道如何到达本网络的中介系统），此时将无法进行数据转发。

如下图所示，Host_1的IP地址为172.16.1.10/16，Host_2的IP地址为172.16.2.20/16，Host_1与Host_2处于同一网段。Switch通过VLAN10和VLAN20连接两个网络，VLANIF10和VLANIF20的IP地址不在同一个网段。



## ARP 协议工作原理：  

​	每个主机都会在自己的 ARP 缓冲区中建立一个 ARP 列表，以表示 IP 地址和 MAC 地址之间的对应关系。

主机（网络接口）新加入网络时（也可能只是mac地址发生变化，接口重启等），会发送免费ARP报文，把自己IP地址与Mac地址的映射关系广播给其他主机。网络上的主机接收到免费ARP报文时，会更新自己的ARP缓冲区。将新的映射关系更新到自己的ARP表中。某个主机需要发送报文时，首先检查 ARP 列表中是否有对应 IP 地址的目的主机的 MAC 地址，如果有，则直接发送数据，如果没有，就向本网段的所有主机发送 ARP 数据包，该数据包包括的内容有：源主机IP 地址，源主机 MAC 地址，目的主机的 IP 地址等。

当本网络的所有主机收到该 ARP 数据包时：

（A）首先检查数据包中的 IP 地址是否是自己的 IP 地址，如果不是，则忽略该数据包。

（B）如果是，则首先从数据包中取出源主机的 IP 和 MAC 地址写入到 ARP 列表中，如果已经存在，则覆盖。

（C） 然后将自己的 MAC 地址写入 ARP 响应包中，告诉源主机自己是它想要找的 MAC 地址。

源主机收到 ARP 响应包后。将目的主机的 IP 和 MAC 地址写入 ARP 列表，并利用此信息发送数据。

如果源主机一直没有收到 ARP 响应数据包，表示 ARP 查询失败。ARP高速缓存（即ARP表）是 ARP地址解析协议能够高效运行的关键

##   RARP  

反向地址转换协议，网络层协议，RARP与ARP工作方式相反。 RARP使只知道自己硬件地址的主机能够知道其IP地址。RARP发出要反向解释的物理地址并希望返回其IP地址，应答包括能够提供所需信息的RARP服务器发出的IP地址。

### 工作·原理

(1)网络上的每台设备都会有一个独一无二的硬件地址，通常是由设备厂商分配的MAC地址。主机从网卡上读取MAC地址，然后在网络上发送一个RARP请求的广播数据包，请求RARP服务器回复该主机的IP地址。

(2)RARP服务器收到了RARP请求数据包，为其分配IP地址，并将RARP回应发送给主机。

(3)PC1收到RARP回应后，就使用得到的IP地址进行通讯。

##    dns的工作原理  

将主机域名转换为ip地址，属于应用层协议，使用UDP传输。（DNS应用层协议，以前有个考官问过）

过程：

总结： 浏览器缓存，系统缓存，路由器缓存，IPS服务器缓存，根域名服务器缓存，顶级域名服务器缓存，主域名服务器缓存。

一、主机向本地域名服务器的查询一般都是采用递归查询。

二、本地域名服务器向根域名服务器的查询的迭代查询。

1)当用户输入域名时，浏览器先检查自己的缓存中是否 这个域名映射的ip地址，有解析结束。

2）若没命中，则检查操作系统缓存（如Windows的hosts）中有没有解析过的结果，有解析结束。

3）若无命中，则请求本地域名服务器解析（ LDNS）。

4）若LDNS没有命中就直接跳到根域名服务器请求解析。根域名服务器返回给LDNS一个 主域名服务器

地址。

5） 此时LDNS再发送请求给上一步返回的gTLD（ 通用顶级域）， 接受请求的gTLD查找并返回这个域名

对应的Name Server的地址

6） Name Server根据映射关系表找到目标ip，返回给LDNS

7） LDNS缓存这个域名和对应的ip， 把解析的结果返回给用户，用户根据TTL值缓存到本地系统缓存

中，域名解析过程至此结束  

## rip 协议  

RIP动态路由选择协议（网络层协议）

RIP是一种基于距离矢量（Distance-Vector）算法的协议，它使用跳数（Hop Count）作为度量来衡量到达目的网络的路由距离。RIP通过UDP报文进行路由信息的交换，使用的端口号为520。

### 工作原理：  

RIP路由协议用“更新（UNPDATES）”和“请求（REQUESTS）”这两种分组来传输信息的。每个具有RIP协

议功能的路由器每隔30秒用UDP520端口给与之直接相连的机器广播更新信息。并且在（ 用“路程段数”

（即“跳数”）作为网络距离的尺度。每个路由器在）给相邻路由器发出路由信息时，都会给每个路径加上内部距离。

路由器的收敛机制：

任何距离向量路由选择协议（如RIP）都有一个问题，路由器不知道网络的全局情况，路由器必须依靠相

邻路由器来获取网络的可达信息。由于路由选择更新信息在网络上传播慢，距离向量路由选择算法有一个慢收敛问题，这个问题将导致不一致性产生。

### RIP较少路由收敛机制带来的问题：

1）记数到无穷大机制： RIP协议允许最大跳数为15。大于15的目的地被认为是不可达。 当路径的跳数

超过15，这条路径才从路由表中删除。

2） 水平分割法： 路由器不向路径到来的方向回传此路径。当打开路由器接口后，路由器记录路径是从

哪个接口来的，并且不向此接口回传此路径。

3） 破坏逆转的水平分割法： 忽略在更新过程中从一个路由器获取的路径又传回该路由器

4）保持定时器法： 防止路由器在路径从路由表中删除后一定的时间内（通常为180秒）接受新的路由信

息。 保证每个路由器都收到了路径不可达信息

5） 触发更新法： 当某个路径的跳数改变了，路由器立即发出更新信息，不管路由器是否到达常规信息更新时间都发出更新信息。

### **RIP的缺点**  

1、由于15跳为最大值，RIP只能应用于小规模网络；

2、收敛速度慢；

3、根据跳数选择的路由，不一定是最优路由。

## OSPF协议
OSPF（Open Shortest Pass First,开放最短路径优先协议），是一个最常用的内部网管协议，是一个链路状态协议。(网络层协议,)
### 原理：

OSPF组播的方式在所有开启OSPF的接口发送Hello包，用来确定是否有OSPF邻居，若发现了，则建立OSPF邻居关系，形成邻居表，之后互相发送LSA（链路状态通告）相互通告路由，形成LSDB（链路状态数据库）。再通过SPF算法，计算最佳路径（cost最小）后放入路由表。
##    TCP与UDP区别总结？  

1. TCP面向连接（如打电话要先拨号建立连接）提供可靠的服务;UDP是无连接的，即发送数据之前不需要建立连接，;UDP尽最大努力交付，即不保证可靠交付。（由于UDP无需建立连接，因此UDP不会引入建立连接的时延，TCP需要在端系统中维护连接状态，比如接受和发送缓存，拥塞控制，序号与确认号的参数等，故TCP会比UDP慢）
2. UDP具有较好的实时性，工作效率比TCP高，适用于对高速传输和实时性有较高的通信或广播通信。
3. 每一条TCP连接只能是一对一的;UDP支持一对一，一对多，多对一和多对多的交互通信
4. UDP分组首部开销小，TCP首部开销20字节;UDP的首部开销小，只有8个字节。
5. TCP面向字节流，实际上是TCP把数据看成一连串无结构的字节流;UDP是面向报文的（一次交付一个完整的报文，报文不可分割，报文是UDP数据报处理的最小单位）。
6. UDP适合一次性传输较小数据s的网络应用，如DNS，SNMP等

##   三次握手四次挥手

为了防止已失效的连接请求报文段突然又传送到了服务端，因而产生错误

第一次握手：建立连接时，客户端发送syn包(syn=j)到服务器，并进入SYN_SEND状态，等待服务器确认；

第二次握手：服务器收到syn包，必须确认客户的SYN（ack=j+1），同时自己也发送一个SYN包（syn=k），即SYN+ACK包，此时服务器进入SYN_RECV状态；

第三次握手：客户端收到服务器的SYN＋ACK包，向服务器发送确认包ACK(ack=k+1)，此包发送完毕，

客户端和服务器进入ESTABLISHED状态，完成三次握手。

完成三次握手，客户端与服务器开始传送数据

客户端先发送FIN，进入FIN_WAIT1状态，用来关闭Client到Server的数据传送

服务端收到FIN，发送ACK，进入CLOSE_WAIT状态，客户端收到这个ACK，进入FIN_WAIT2状态

服务端发送FIN，进入LAST_ACK状态，用来关闭Server到Client的数据传送

客户端收到FIN，发送ACK，进入TIME_WAIT状态，服务端收到ACK，进入CLOSE状态（等待2MSL时

间，约4分钟。主要是防止最后一个ACK丢失。）

第一次挥手：主动关闭方发送一个FIN，用来关闭主动方到被动关闭方的数据传送，也就是主动关闭方告

诉被动关闭方：我已经不 会再给你发数据了(当然，在fin包之前发送出去的数据，如果没有收到对应的

ack确认报文，主动关闭方依然会重发这些数据)，但是，此时主动关闭方还可 以接受数据。

第二次挥手：被动关闭方收到FIN包后，发送一个ACK给对方，确认序号为收到序号+1（与SYN相同，一

个FIN占用一个序号）。

第三次挥手：被动关闭方发送一个FIN，用来关闭被动关闭方到主动关闭方的数据传送，也就是告诉主动

关闭方，我的数据也发送完了，不会再给你发数据了。

第四次挥手：主动关闭方收到FIN后，发送一个ACK给被动关闭方，确认序号为收到序号+1，至此，完成

四次挥手。

##   GET和POST 的区别  

get是获取数据，post是修改数据
get把请求的数据放在url上， 以?分割URL和传输数据，参数之间以&相连，所以get不太安全。而post把
数据放在HTTP的包体内（requrest body）
get提交的数据最大是2k（ 限制实际上取决于浏览器）， post理论上没有限制。

GET产生一个TCP数据包，浏览器会把http header和data一并发送出去，服务器响应200(返回数据);

POST产生两个TCP数据包，浏览器先发送header，服务器响应100 continue，浏览器再发送data，服

务器响应200 ok(返回数据)。

GET请求会被浏览器主动缓存，而POST不会，除非手动设置。

GET是幂等的，而POST不是幂等的

## Cookies和 session 区别

Cookie和Session都是客户端与服务器之间保持状态的解决方案

1，存储的位置不同，cookie：存放在客户端，session：存放在服务端。Session存储的数据比较安全

2，存储的数据类型不同

两者都是key-value的结构，但针对value的类型是有差异的

cookie：value只能是字符串类型，session：value是Object类型

3，存储的数据大小限制不同

cookie：大小受浏览器的限制，很多是是4K的大小， session：理论上受当前内存的限制，

4，生命周期的控制

cookie的生命周期当浏览器关闭的时候，就消亡了

(1)cookie的生命周期是累计的，从创建时，就开始计时，20分钟后，cookie生命周期结束，

(2)session的生命周期是间隔的，从创建时，开始计时如在20分钟，没有访问session，那么session生命周期被销毁

## session 的工作原理？

session 的工作原理是客户端登录完成之后，服务器会创建对应的 session，session 创建完之后，会把

session 的 id 发送给客户端，客户端再存储到浏览器中。这样客户端每次访问服务器时，都会带着

sessionid，服务器拿到 sessionid 之后，在内存找到与之对应的 session 这样就可以正常工作了。

## 一次完整的HTTP请求过程

域名解析 --> 发起TCP的3次握手 --> 建立TCP连接后发起http请求 --> 服务器响应http请求，浏览器得到

html代码 --> 浏览器解析html代码，并请求html代码中的资源（如js、css、图片等） --> 浏览器对页面

进行渲染呈现给用户。

## HTTPS和HTTP的区别

1.HTTP协议传输的数据都是未加密的，也就是明文的，因此使用HTTP协议传输隐私信息非常不安全，

HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，要比http协议安全。

\2. https协议需要到ca申请证书，一般免费证书较少，因而需要一定费用。

3、http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。

https://www.cnblogs.com/wqhwe/p/5407468.html

## OSI   的七层模型都有哪些？  

物理层：利用传输介质为数据链路层提供物理连接，实现比特流的透明传输。

数据链路层：接收来自物理层的位流形式的数据，并封装成帧，传送到上一层

网络层：将网络地址翻译成对应的物理地址，并通过路由选择算法为分组通过通信子网选择最适当的路

径。

传输层：在源端与目的端之间提供可靠的透明数据传输

会话层：负责在网络中的两节点之间建立、维持和终止通信

表示层：处理用户信息的表示问题，数据的编码，压缩和解压缩，数据的加密和解密

应用层：为用户的应用进程提供网络通信服务

## http长连接和短连接的区别

在HTTP/1.0中默认使用短连接。也就是说，客户端和服务器每进行一次HTTP操作，就建立一次连接，

任务结束就中断连接。而从HTTP/1.1起，默认使用长连接，用以保持连接特性。什么是TCP粘包/拆包？

发生原因？解决方案 一个完整的业务可能会被TCP拆分成多个包进行发送，也有可能把多个小的包封装

成一个大的数据包发送，这个就是TCP的拆包和粘包问题。原因：1. 应用程序写入数据的字节大小大于

套接字发送缓冲区的大小.2. 进行MSS大小的TCP分段。( MSS=TCP报文段长度-TCP首部长度)3. 以太网的

payload大于MTU进行IP分片。（ MTU指：一种通信协议的某一层上面所能通过的最大数据包大小。）

解决方案：1. 消息定长。2. 在包尾部增加回车或者空格符等特殊字符进行分割3. 将消息分为消息头和消

息尾。4. 使用其它复杂的协议，如RTMP协议等。

## TCP如何保证可靠传输？

\1. 三次握手。

\2. 将数据截断为合理的长度。应用数据被分割成 TCP 认为最适合发送的数据块（按字节编号，合理分

片）

\3. 超时重发。当 TCP 发出一个段后，它启动一个定时器，如果不能及时收到一个确认就重发

\4. 确认应答：对于收到的请求，给出确认响应

\5. 校验和：校验出包有错，丢弃报文段，不给出响应

\6. 序列号：对失序数据进行重新排序，然后才交给应用层7. 丢弃重复数据：对于重复数据 ， 能够丢弃重复数据

\8. 流量控制。TCP 连接的每一方都有固定大小的缓冲空间。TCP 的接收端只允许另一端发送接收端缓

冲区所能接纳的数据。这将防止较快主机致使较慢主机的缓冲区溢出。

\9. 拥塞控制。当网络拥塞时，减少数据的发送。

校验和

序列号

确认应答

超时重传

连接管理

流量控制

拥塞控制

## 常见的状态码有哪些？

200 OK //客户端请求成功403 Forbidden //服务器收到请求，但是拒绝提供服务

404 Not Found //请求资源不存在，eg：输入了错误的URL

500 Internal Server Error //服务器发生不可预期的错误URI和URL的区别URI，统一资源标识符，用来唯

一的标识一个资源。URL可以用来标识一个资源，而且还指明了如何定位这个资源。

## 什么是SSL？    https是如何保证数据传输的安全

SSL代表安全套接字层。它是一种用于加密和验证应用程序（如浏览器）和Web服务器之间发送的数据

的协议。 身份验证 ， 加密Https的加密机制是一种共享密钥加密和公开密钥加密并用的混合加密机制。

SSL/TLS协议作用：认证用户和服务，加密数据，维护数据的完整性的应用层协议加密和解密需要两个不

同的密钥，故被称为非对称加密；加密和解密都使用同一个密钥的 对称加密。 优点在于加密、解密效率

通常比较高HTTPS 是基于非对称加密的， 公钥是公开的，

（1）客户端向服务器端发起SSL连接请求；

（2） 服务器把公钥发送给客户端，并且服务器端保存着唯一的私钥

（3）客户端用公钥对双方通信的对称秘钥进行加密，并发送给服务器端

（4）服务器利用自己唯一的私钥对客户端发来的对称秘钥进行解密，

（5）进行数据传输，服务器和客户端双方用公有的相同的对称秘钥对数据进行加密解密，可以保证在数

据收发过程中的安全，即是第三方获得数据包，也无法对其进行加密，解密和篡改。

因为数字签名、摘要是证书防伪非常关键的武器。 “摘要”就是对传输的内容，通过hash算法计算出一段

固定长度的串。然后，在通过CA的私钥对这段摘要进行加密，加密后得到的结果就是“数字签名”

SSL/TLS协议的基本思路是采用公钥加密法，也就是说，客户端先向服务器端索要公钥，然后用公钥加密

信息，服务器收到密文后，用自己的私钥解密。

##   如何保证公钥不被篡改？  

将公钥放在数字证书中。只要证书是可信的，公钥就是可信的。

公钥加密计算量太大，如何减少耗用的时间？

每一次对话（session），客户端和服务器端都生成一个"对话密钥"（session key），用它来加密信息。

由于"对话密钥"是对称加密，所以运算速度非常快，而服务器公钥只用于加密"对话密钥"本身，这样就减

少了加密运算的消耗时间。

（1） 客户端向服务器端索要并验证公钥。

（2） 双方协商生成"对话密钥"。

（3） 双方采用"对话密钥"进行加密通信。上面过程的前两步，又称为"握手阶段"（handshake）。

————————————————

来自 https://blog.csdn.net/Butterfly_resting/article/details/89638424

## SMB

### 概述

SMB协议（Server Message Block Protocol）是一种用于在网络上传输文件、打印文档、远程命令等信息的协议。它常被用于在Windows环境下实现文件共享、远程桌面等功能。

SMB协议是一种基于客户端/服务器模型的协议，其中服务器端通常负责提供文件存储、打印等服务，而客户端则通过SMB协议与服务器端进行通信，以访问服务器端的资源。

SMB协议有多个版本，包括SMBv1、SMBv2、SMBv3等。这些版本的主要区别在于加密方式和协议的复杂度。SMBv1是最早的版本，已经不再被推荐使用，因为它存在许多安全漏洞。SMBv2和SMBv3则在加密方式和协议复杂度方面有所提升，更加安全可靠。

SMB协议在Windows操作系统中广泛使用，用户可以使用“网络”文件夹或“连接到服务器”功能来访问SMB服务器上的文件。此外，SMB协议也被许多其他操作系统和路由器等设备支持，使得SMB协议成为了一种常用的网络文件共享协议。

在 OSI 网络模型中，Microsoft SMB 协议最常用作应用程序层或表示层协议，并且依赖于较低级别的协议进行传输。 Microsoft SMB 协议最常使用的传输层协议是通过 TCP/IP 的 NetBIOS ([NBT](https://learn.microsoft.com/zh-cn/previous-versions//bb870909(v=vs.85))) 。 但是，Microsoft SMB 协议也可以在没有单独的传输协议的情况下使用，Microsoft SMB 协议/NBT 组合通常用于向后兼容。

Microsoft SMB 协议是客户端-服务器实现，由一组数据包组成，每个数据包包含客户端发送的请求或服务器发送的响应。 这些数据包可大致分类如下：

- 会话控制数据包 建立并停止与共享服务器资源的连接。
- 文件访问数据包 访问和操作远程服务器上的文件和目录。
- 常规消息数据包 发送数据以打印队列、mailslot 和命名管道，并提供有关打印队列状态的数据。

某些消息数据包可以分组并在一次传输中发送，以减少响应延迟并增加网络带宽。 这称为“批处理”。 

### 详解

https://blog.csdn.net/qq_33336155/article/details/53307308



# 代理

## http代理

HTTP代理是一种充当客户端和服务器之间的中间人的服务器。当客户端发起请求时，HTTP代理会拦截请求并将其转发给目标服务器。一旦目标服务器响应，HTTP代理会拦截响应并将其转发回客户端。HTTP代理可以被用于多种场景，例如加强安全、缓存内容以加速访问、访问受限资源等等

### 作用

HTTP代理的主要作用是拦截客户端和服务器之间的网络请求和响应，然后转发它们。HTTP代理可以用于以下场景：

1. **加强安全性：**HTTP代理可以拦截和检查请求和响应，从而过滤出不安全或有害的内容，同时保护客户端和服务器的隐私和安全。
2. **提高性能：**HTTP代理可以缓存常用内容，从而加速响应速度。当客户端请求相同的内容时，HTTP代理可以直接从缓存中返回响应，而无需重新请求服务器。这可以显著提高页面加载速度和减轻服务器负载。
3. **访问受限资源：**有些资源可能因为地理位置、政策、权限等原因而被访问受限。HTTP代理可以通过转发请求和响应，从而使客户端绕过这些限制，访问受限资源

### 类型

1. **正向代理：**正向代理（也称为前向代理）是指代理服务器在客户端和服务器之间。客户端发送请求到代理服务器，代理服务器将请求转发给目标服务器，并将目标服务器的响应转发回客户端。正向代理常用于加强安全、缓存内容以加速访问、访问受限资源等场景。

   

2. **反向代理：**反向代理（也称为后向代理）是指代理服务器在服务器和客户端之间。客户端发送请求到反向代理服务器，反向代理服务器将请求转发给真实服务器，并将真实服务器的响应转发回客户端。反向代理常用于负载均衡、高可用性、加强安全等场景。

   

3. **透明代理：**透明代理是指代理服务器不对请求和响应做任何修改，完全透明。客户端不知道请求被代理了，服务器也不知道响应被代理了。透明代理通常用于缓存内容以加速访问。

## socks5代理

SOCKS5 是一个[代理协议](https://baike.baidu.com/item/代理协议/10720786?fromModule=lemma_inlink)，它在使用[TCP/IP协议](https://baike.baidu.com/item/TCP%2FIP协议/212915?fromModule=lemma_inlink)通讯的前端机器和[服务器](https://baike.baidu.com/item/服务器/100571?fromModule=lemma_inlink)机器之间扮演一个中介角色，使得[内部网](https://baike.baidu.com/item/内部网/420144?fromModule=lemma_inlink)中的前端机器变得能够访问Internet网中的服务器，或者使通讯更加安全。SOCKS5 服务器通过将前端发来的请求转发给真正的目标服务器， 模拟了一个前端的行为。在这里，前端和SOCKS5之间也是通过[TCP/IP协议](https://baike.baidu.com/item/TCP%2FIP协议/212915?fromModule=lemma_inlink)进行通讯，前端将原本要发送给真正服务器的[请求发送](https://baike.baidu.com/item/请求发送/55970969?fromModule=lemma_inlink)给SOCKS5服务器，然后SOCKS5服务器将请求转发给真正的服务器。

### 运行状态

一个支持SOCKS5协议的前端，通常具有两种[运行状态](https://baike.baidu.com/item/运行状态/10781694?fromModule=lemma_inlink)：

1)直接通讯状态，不使用SOCKS5接口。这时的通讯是针对最终服务器进行的。

2)SOCKS5 状态。 使用 SOCKS5 接口将本来要发送给最终服务器的请求发

送给 SOCKS5 服务器。在前端和 SOCKS5 服务器进行初始化会话的时候，前端

告诉了 SOCKS5 服务器关于最终服务器的 IP 地址和端口信息，所以 SOCKS5

服务器能够忠实按照前端的要求启动和最终服务器的通讯过程。

### 主要区别

SOCKS像一堵墙被夹在 Internal服务器和客户端之间，对于出入[企业网络](https://baike.baidu.com/item/企业网络/2119389?fromModule=lemma_inlink)的资讯提供流量和安全的管理。SOCKS这个名词并不是一组英文字头的缩写，而是一个和 TCP/IP的Socket端口有关的[安全标准](https://baike.baidu.com/item/安全标准/3569971?fromModule=lemma_inlink)，一般[防火墙系统](https://baike.baidu.com/item/防火墙系统/7097654?fromModule=lemma_inlink)通常是象[网关](https://baike.baidu.com/item/网关/98992?fromModule=lemma_inlink)（Gateway）一样是作用在[OSI模型](https://baike.baidu.com/item/OSI模型/10119902?fromModule=lemma_inlink)的第七层也就是[应用层](https://baike.baidu.com/item/应用层/4329788?fromModule=lemma_inlink)上，对 TCP/IP的高级协议，如[Telnet](https://baike.baidu.com/item/Telnet/810597?fromModule=lemma_inlink)、[FTP](https://baike.baidu.com/item/FTP/13839?fromModule=lemma_inlink)、[HTTP](https://baike.baidu.com/item/HTTP/243074?fromModule=lemma_inlink)和[SMTP](https://baike.baidu.com/item/SMTP/175887?fromModule=lemma_inlink)加以管制，而SOCKS作用在OSI模型的第五层也就是[会话层](https://baike.baidu.com/item/会话层/4329656?fromModule=lemma_inlink)上，像一个代理一样对客户端到[服务器端](https://baike.baidu.com/item/服务器端/3369401?fromModule=lemma_inlink)或服务器和服务器之间的数据联系提供安全上的服务。由于SOCKS作用在会话层上，因此它是一个提供会话层到会话层间[安全服务](https://baike.baidu.com/item/安全服务/1176923?fromModule=lemma_inlink)的方案，不受高层应用程序变更的影响。 [Socks代理](https://baike.baidu.com/item/Socks代理?fromModule=lemma_inlink)只是简单地传递[数据包](https://baike.baidu.com/item/数据包/489739?fromModule=lemma_inlink)，而不必关心是何种[应用协议](https://baike.baidu.com/item/应用协议/5927523?fromModule=lemma_inlink)(比如FTP、HTTP和[NNTP](https://baike.baidu.com/item/NNTP/610627?fromModule=lemma_inlink)请求)，所以Socks[代理服务器](https://baike.baidu.com/item/代理服务器/97996?fromModule=lemma_inlink)比应用层代理服务器要快。

### 用途

突破网络限制：有些网络会限制用户访问特定的网站或服务，使用SOCKS5代理可以帮助用户突破这些限制，访问被封锁的网站或服务。


隐藏IP地址：使用SOCKS5代理可以隐藏用户的真实IP地址，这对于需要保护隐私的用户非常有用。


加速网络访问：在一些情况下，SOCKS5代理可以加速网络访问速度，例如当用户需要访问国外的网站或服务时。 作者：巨量HTTP代理 https://www.bilibili.com/read/cv23032505/ 出处：bilibili

### 使用方法

安装SOCKS5代理软件：在使用SOCKS5代理之前，需要先安装一个SOCKS5代理软件，例如Shadowsocks或V2Ray等。这些软件可以在Windows、Mac和Linux等多个平台上运行。


配置代理服务器：在代理软件中配置代理服务器的地址和端口号。这些信息通常可以从代理服务提供商处获得。


配置客户端：在需要使用SOCKS5代理的客户端中，配置代理服务器的地址和端口号。这样，客户端就可以通过代理服务器与目标服务器建立连接。


连接目标服务器：使用客户端访问目标服务器时，所有的数据流都会经过代理服务器，以确保数据的安全性和隐私性。 作者：巨量HTTP代理 https://www.bilibili.com/read/cv23032505/ 出处：bilibili

### 总结

SOCKS5代理是一种用于TCP和UDP协议的安全代理协议，可以帮助用户保护隐私、突破网络限制和加速网络访问等方面。使用SOCKS5代理需要安装代理软件、配置代理服务器和客户端等步骤，需要注意选择可靠的代理服务器和软件，以确保数据的安全性和隐私性。 作者：巨量HTTP代理 https://www.bilibili.com/read/cv23032505/ 出处：bilibili

## VPN

VPN 即指“虚拟专用网络”，提供了使用公共网络时建立受保护网络连接的机会。VPN 可以加密您的互联网流量，伪装您的在线身份。这让第三方更难追踪您的在线活动并窃取数据。加密是实时进行的。

### 运行

VPN 通过专门配置的远程服务器（由 VPN 主机运行）让网络重定向您的 IP 地址，从而将其隐藏。这意味着，如果您使用 VPN 上网，VPN  服务器会成为您的数据来源。即您的互联网服务供应商 (ISP) 和其他第三方无法看到您访问了什么网站，以及您在线发送和接收了哪些数据。VPN  就像一个过滤器一样，将您的所有数据都变成“乱码”。即使有人拿到了这些数据，也毫无用处。

### 优点

可在线隐藏您的数据流量，并保护其不被外部访问

#### 安全加密

要读取数据，您需要一个加密密钥。没有安全密钥，一台计算机通过暴力破解需要数百万年才能破译代码。借助 VPN 的帮助，即便是您在公共网络上的在线活动也会被隐藏。

#### 伪装您的所在位置

VPN 服务器实际上充当了您在 Internet 上的代理。由于统计位置数据来自其他国家/地区的服务器，因此无法确定您的实际位置。此外，大多数 VPN 服务不会存储您的活动日志。另一方面，一些供应商会记录您的行为，但不会将这些信息传递给第三方。这意味着，任何潜在的用户行为记录都会被永久隐藏。

#### 访问区域内容

区域 Web  内容并非总是在任何地方都可以访问。服务和网站往往会包含只能从世界的某些地方访问的内容。标准连接使用所在国家/地区的当地服务器来确定您的位置。这意味着，当您旅行时无法访问家乡的内容，也无法在家里访问国际内容。借助 VPN 位置欺骗，您可以切换到另一个国家/地区的服务器并高效“更改”您的位置。

#### 安全数据传输

如果您远程工作，那么可能需要访问公司网络上的重要文件。为安全起见，这种信息需要安全连接。为了获得网络的访问权限，通常需要 VPN 连接。VPN 服务连接到专用服务器，并使用加密方法来降低数据泄漏风险

## FTP

https://www.bilibili.com/read/cv15361563

FTP（File Transfer  Protocol），是文件传输协议的简称。用于Internet上的控制文件的双向传输。同时，它也是一个应用程序（Application）。用户可以通过它把自己的PC机与世界各地所有运行FTP协议的服务器相连，访问服务器上的大量程序和信息。

### 作用

让用户连接上一个远程计算机（这些计算机上运行着FTP服务器程序）察看远程计算机有哪些文件，然后把文件从远程计算机上拷到本地计算机，或把本地计算机的文件送到远程计算机去。

https://baike.c114.com.cn/view.asp?id=2181-C0490C60

https://blog.csdn.net/firefox891/article/details/127871541

## SSH

https://blog.csdn.net/KNIGH_YUN/article/details/125707874